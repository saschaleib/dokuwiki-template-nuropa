/* Stylesheet for DokuWiki Nuropa template
 * by Sascha Leib
 * File name: css/_site-toolbar.css
 */

#searchbar__layout {
	& {
		clear: both;
		width: 100%;
		background-color: @ini_searchbar_background;
		font-size: @ini_base_fontsize;
		box-sizing: border-box;
	}
	& > .content {
		width: 100%;
		max-width: @ini_site_width;
		height: @ini_searchbar_height;
		margin: 0 auto;
		padding: .5rem;
		display: grid;
		grid-template-columns: 1fr auto 1fr;
	}
	[popover] {
		& {
			position: relative;
			inset: unset;
			background-color: @ini_searchbar_background;
			width: max-content;
			border: darken(@ini_searchbar_background, 15%) solid 1px;
			border-radius: .35em;
			box-shadow: 1px 1px 1px 1px rgba(0,0,0,0.1);
			padding: 2px	;
			z-index: 101;
			overflow: hidden;
		}
		ul {
			list-style: none inside;
			display: flex;
			flex-flow: column nowrap;
		}
		li, li a {
			font-size: .8rem;
			box-sizing: border-box;
			width: 100%;
		}
		a {
			padding: .5em .5em .5em .25em;
			text-decoration: none;
			color: @ini_searchbar_link;
			border-radius: .25em;
		}
		a span {
			color: @ini_searchbar_link;
		}
		svg {
			fill: @ini_searchbar_icon;
		}
		a:has(svg) {
			display: grid;
			grid-template-columns: 1.5em auto;
			align-items: center;
			column-gap: .25em;
		}
	}
	#sb__languages {
		a {
			display: grid;
			grid-template-columns: 1.5em auto;
			align-items: center;
			column-gap: .25em;
		}
		a::before {
			content: attr(lang);
			text-transform: uppercase;
			display: inline-block;
			width: 1.25em;
			text-align: center;
			color: @ini_searchbar_icon;
			font-size: .8em;
		}
	}
}

#site__logo {
	& {
		height: @ini_searchbar_height;
		display: flex;
		align-items: center;
	}
	& > * {
		display: inline-block;
		box-sizing: border-box;
		height: 100%;
		width: auto;
	}
	a.logo img {
		height: 100%;
		width: auto;
	}
}

#search__group {
	& {
		border: green dotted 1px;
	}
}

#sitetools__group {
	& {
		display: flex;
		justify-content: center;
		align-items: center;
		
	}
	ul {
		list-style: none inside;
	}
	& > ul {
		& {
			display: grid;
			grid-template-columns: auto auto auto;
		}
		& > li {
			& {
				display: inline-block;
			}
			& > button, & > a,
			#user-action-buttons li a {
				& {
					display: grid;
					grid-template-columns: auto auto;
					align-items: center;
					column-gap: .25em;
					
					border: transparent 0 none;
					border-radius: .25rem;
					padding: .35em 3pt;
					margin: 2px;
					
					background-color: transparent;
					color: @ini_searchbar_link;
					text-decoration: none;
					font-size: .86rem;
					cursor: pointer;
				}
				&:hover {
					filter: brightness(.9);
				}
				&:focus {
					outline: @ini_focus solid 2px;
				}
				& > * {
					display: inline-block;
				}
				svg {
					& {
						display: inline-block;
						fill: @ini_searchbar_icon;
						width: 1.5rem;
						height: 1.5rem;
						font-size: .8rem;
					}
					text {
						font-size: .8em;
						fill: @ini_searchbar_background;
						text-transform: uppercase;
					}
				}
				& > span {
					color: @ini_searchbar_link;
					white-space: nowrap;
				}
			}
		}	
	}
}

@media (prefers-color-scheme: dark) {

    /* general colour settings: */
    body.darkmode {

		#searchbar__layout {
			& {
				background-color: @ini_searchbar_background_dark;
			}
			svg {
				& {
					fill: @ini_searchbar_icon_dark;
				}
				text {
					fill: @ini_searchbar_background_dark;
				}
			}
		}
	}
}