/* Stylesheet for DokuWiki Nuropa template
 * by Sascha Leib
 * File name: css/parts/sidebar.less
 */

 #main__sidebar__layout {
	& {
		width: 100%;
		max-width: @ini_site_width;
		margin: 0 auto;
		display: grid;
		grid-template-columns: @ini_sidebar_width auto;
		column-gap: .25rem;
		transition-duration: .5s;
	}
	#sidebar__nav {
		transform-origin: top left;
		transform: rotateY(0deg);
		transition-duration: .5s;
	}

	&[data-state="alternative"] {
		& {
			grid-template-columns: 1.25rem auto;
		}
		#sidebar__nav {
			transform: perspective(@ini_sidebar_width) rotateY(-90deg) translateX(-@ini_sidebar_width);
		}
	}

	#side__bar {
		& {
			display: block;
			width: @ini_sidebar_width;
			max-width: @ini_sidebar_width;
			overflow: hidden;
			text-overflow: '\202F\2026';
			padding: 0 0 0 .25rem;
			color: @ini_sidebar_textcolor;
			margin-bottom: 2rem;
		}

		#tg__button {
			&  {
				border: transparent 0 none;
				background-color: transparent;
				line-height: 1;
				padding: .125rem;
				cursor: pointer;
				transition-duration: .5s;
			}
			svg {
				& {
					fill: @ini_sidebar_textcolor;
					width: 1rem; height: 1rem;
				}
				&:hover, &:focus {
					fill: @ini_sidebar_linkcolor;
					width: 1rem; height: 1rem;
				}
				& > * {
					transition-duration: .5s;
					transform-origin: center;
				}
			}
			&:focus {
				outline: none;
			}
			&[data-state="default"] {
				& {
					margin: ~".5rem 2pt .125rem calc(100% - 1.5rem)";
				}
				svg {
					rect.top-bar { transform: translate(30%,-10%) rotate(-45deg); }
					rect.middle-bar { transform: rotate(90deg) translate(10%, 25%) scaleX(120%); }
					rect.bottom-bar { transform: translate(40%,5%) rotate(45deg); }
				}
			}
			&[data-state="alternative"] {
				& {
					margin: .5rem 0 .0 -.25rem;
				}
				svg {
					rect.top-bar { transform: translate(-20%,0%) rotate(45deg); }
					rect.middle-bar { transform: rotate(90deg) translate(10%,-40%) scaleX(120%); }
					rect.bottom-bar { transform: translate(-28%,-8%) rotate(-45deg); }
				}

			}
		}

		ul, ol {
			display: block;
			list-style: none;
			padding: 0 0 0 .5em;
		}
		li {
			line-height: 1.15em;
			padding: .15em 0;
		}
		div.li {
			text-indent: -1.15em;
			margin-left: 1.15em;
		}
		span.curid {
			font-weight: bold;
		}
		a {
			color: @ini_sidebar_linkcolor;
			text-decoration: none;
		}
		a:hover {
			text-decoration: underline;
		}
		h2, h3, h4, h5, h6, dt, summary {
			font-family: @ini_headline_fonts;
			color: @ini_sidebar_textcolor;
			line-height: 1.25em;
			padding: .5em 0;
			text-indent: -1.25em;
			margin-left: 1.25em;
		}
		hr {
			margin: .5em 1em .25em 0;
			height: 1pt;
			background: transparent linear-gradient(to right,transparent,@ini_sidebar_textcolor,transparent);
			border: transparent 0 none;
		}
	}
}

 @media (max-width: @ini_site_tablet_width) {

	#main__sidebar__layout {
		& {
			grid-template-columns: 1.25rem auto;
		}
		#sidebar__nav {
			display: block;
			position: relative;
			background-color: fadeout(@ini_background, 10%);
			border: @ini_border solid 1px;
			box-shadow: 1pt 1pt 6pt fadeout(#000, 40%);
			padding: .25rem .25rem .25rem .5rem;
			transform: perspective(1024px) rotateY(-90deg) translateX(-100%);
			transition-duration: .5s;
			z-index: 9;
		}
		&[data-state="alternative"] {
			& {
			}
			#sidebar__nav {
				display: block;
				transform: perspective(1024px) rotateY(0deg) translateX(0%);
			}
		}

		#side__bar {
			& {
				overflow: initial;
			}
			#tg__button {
				&[data-state="default"] {
					& {
						margin: .25rem 0 0 -.25rem;
					}
					svg {
						rect.top-bar { transform: translate(-20%,0%) rotate(45deg); }
						rect.middle-bar { transform: rotate(90deg) translate(10%,-40%) scaleX(120%); }
						rect.bottom-bar { transform: translate(-28%,-8%) rotate(-45deg); }
						}
				}
				&[data-state="alternative"] {
					& {
						margin: .25rem 0 0 -.25rem;
					}
					svg {
						rect.top-bar { transform: translate(30%,-10%) rotate(-45deg); }
						rect.middle-bar { transform: rotate(90deg) translate(10%, 25%) scaleX(120%); }
						rect.bottom-bar { transform: translate(40%,5%) rotate(45deg); }
					}
				}
			}
		}
	}
 }